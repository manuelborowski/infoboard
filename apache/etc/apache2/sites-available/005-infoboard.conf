#to add a certificate for this site, use certbot (https://certbot.eff.org/ )

listen 5005
NameVirtualHost *:5005
#open port 443 for https
listen 443
NameVirtualHost *:443
<VirtualHost *:443 *:5005>

    #This virtualhost is called when following FQDN is used
    # 'ib' is a subdomain of exelbo.dynu.net
    ServerName ib.exelbo.dynu.net
    #Or, when called via : https://rb1.local:5005 or https://192.168.0.189:5005

    WSGIDaemonProcess infoboard threads=5 python-home=/home/pi/projects/infoboard/venv
    WSGIScriptAlias / /var/www/infoboard/infoboard.wsgi

    <Directory /var/www/infoboard>
        WSGIProcessGroup infoboard
        WSGIApplicationGroup %{GLOBAL}
        Order deny,allow
        Allow from all
    </Directory>

        Alias app/static /home/pi/projects/infoboard/app/static
        <Directory /home/pi/projects/infoboard/app/static>
        WSGIProcessGroup infoboard
        WSGIApplicationGroup %{GLOBAL}
            Order allow,deny
            Allow from all
        </Directory>

#following lines are added by certbot to install the certificates
SSLCertificateFile /etc/letsencrypt/live/ib.exelbo.dynu.net/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/ib.exelbo.dynu.net/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
